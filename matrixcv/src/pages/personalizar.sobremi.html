<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Editor .astro</title>
  <link rel="stylesheet" href="./public/css/style.css"/>
</head>
<body class="body-personalizador">
  <h1>Crea tu Sobre Mi</h1>
  <div class="toolbar">
    <button onclick="execCmd('bold')"><b>Negrita</b></button>
    <button onclick="execCmd('italic')"><i>Itálica</i></button>
    <button onclick="execCmd('underline')"><u>Subrayado</u></button>
    <button onclick="execCmd('insertUnorderedList')">Lista •</button>
    <button onclick="execCmd('insertOrderedList')">Lista 1.</button>
    <button onclick="execCmd('formatBlock', '<p>')">Párrafo</button>
    <button onclick="execCmd('formatBlock', '<h1>')">H1</button>
    <button onclick="execCmd('formatBlock', '<h2>')">H2</button>
    <button onclick="execCmd('formatBlock', '<blockquote>')">Cita</button>
  </div>

  <div id="editor" contenteditable="true">
    <p>Escribe aquí tu contenido enriquecido...</p>
  </div>

  <button id="download" onclick="downloadAstro()">Descargar .astro</button>

  <script>
    function execCmd(cmd, value = null) {
      document.execCommand(cmd, false, value);
    }

    function downloadAstro() {
      const rawContent = document.getElementById("editor").innerHTML;
      const wrappedContent = `<div class="txt">\n  <div class="bio-text">\n    ${rawContent.trim()}\n  </div>\n</div>`;
      const blob = new Blob([wrappedContent], { type: "text/plain;charset=utf-8" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "contenido.astro";
      a.click();
    }
  </script>
</body>
</html>
